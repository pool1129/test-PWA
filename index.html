<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Hello!</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="패드 간편 접수">
        <link rel="apple-touch-icon-precomposed" href="${basicInfo.logoFavicon}">
        
        <link rel="manifest" id="my-manifest-placeholder" crossorigin="use-credentials">

        <script>
            var myDynamicManifest = {
                "name": "패드 간편 접수",
                "short_name": "패드 간편 접수",
                "description": "패드 간편 접수 :: 패드 간편 접수",
                "start_url": "/",
                "scope" : "./",
                "background_color": "#ffffff",
                "theme_color": "#ffffff",
                "display": "standalone"
            }

            const stringManifest = JSON.stringify(myDynamicManifest);
            const blob = new Blob([stringManifest], {type: 'application/json'});
            const manifestURL = URL.createObjectURL(blob);
            document.querySelector('#my-manifest-placeholder').setAttribute('href', manifestURL); 
        </script>
    </head>
    
    <body>
        PWA 테스트

        <script>
            if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js') // serviceWorker 파일 경로
                    .then((reg) => {
                        console.log('Service worker registered.', reg);
                    })
                    .catch(e => console.log(e));
            });
            }
        </script>
    </body>
</html>
